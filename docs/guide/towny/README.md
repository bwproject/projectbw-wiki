# Плагин «Towny» и как с ним взаимодействовать на сервере Recreation

Привет, дорогой друг. Совсем недавно мы приняли решение о перезапуске нашего сервера Recreation. Одно из главных нововведений - появление плагина «Towny». Давай разберёмся зачем он нужен и как им пользоваться.

ВВЕДЕНИЕ
«Towny» - это плагин, который позволяет создавать в Minecraft города и нации. Весь мир с этого момента делится на два вида чанков: Дикие Земли и города. В каждом городе могут быть установлены свои правила от полного привата каждого из участков до бесправной анархии и свободного ПВП. Главное различие между городами и Дикими Землями заключается в наличии привата территории и возможности тонкой настройки чанков.

Как определить, где город? Когда игрок вступает в черту города, в чате высвечивается его название, а когда игрок вступает в Дикие Земли, высвечивается зеленая надпись Wilderness (дикие земли).
Пример:

Игровой чат
Игровой чат
Вместе с этим плагином в игре появляются роли. На данный момент у нас есть:

Мэр - главный человек города. Им автоматически становится игрок, который решил основать своё поселение. Имеет свободный доступ ко всем чанкам города.
Ассистенты - люди, которых назначает мэр в качестве своих помощников. Могут вносить изменения на любом из чанков города и имеют доступ к большинству команд мэра.
Горожане - жители города. Как правило, могут вносить изменения лишь на тех участках, которые они купили у города, либо же на участках своих друзей. (Если они дадут доступ, конечно же).
Отшельники (кочевники) - те игроки, которые решили жить на диких землях, игнорируя существование городов. Отчаянные ребята.
Когда вы в первый раз зайдёте на сервер, разумеется, вы будете безземельным отшельником. Если вы сразу хотите осесть и свить своё гнёздышко, у вас есть три варианта развития событий:

Убежать в Дикие Земли (далее ДЗ) и основать свой дом там. Учтите, что ДЗ - это небезопасное место. Здесь никто не запрещает мародёрство и ваше имущество никак не защищено.
Поселиться в «Recre-Town» - центральном городе сервера, который располагается вокруг спавна. Этот город принадлежит администрации сервера. Первый дом советуем строить именно здесь.
Поселиться в городе игрока.
Если ваш выбор падёт на второй вариант, это вовсе не значит, что вы останетесь в столице навечно. В дальнейшем вы сможете накопить денег на свой собственный город или переселиться в город другого игрока.

Итак, первые важные команды, которые нужно знать:

/t ? - показать доступные команды.
/town join [название] - вступить в город, если в нем включено свободное вступление.
/town leave - выйти из города. 

Если в городе стоит "заселение по приглашению", вы должны обратиться к мэру или ассистентам 
соответствующего города, чтобы вас приняли. В "Recre-Town" вы можете спокойно заселяться 
в любое время.
Со временем вы сможете накопить денег и основать свой город, тогда вам могут пригодиться следующие команды:

/town new [название] - создать новый город.
Стоимость создания нового города: Ⓡ 500.000 RCoin.

/t toggle open on/off - включить/отключить вступление в Ваш город без приглашения.

Учтите, что при создании города каждые 24 реальных часа (в 12:00 по МСК) с банковского счёта города будет списываться небольшой налог(Ⓡ 500 RCoin) за его содержание. 
В случае, если на счету не останется средств, ваш город будет удалён. (Постройки, конечно останутся, но вся территория перейдёт в состав диких земель и город будет распривачен).

Из этого можно сделать следующий вывод: "ваш кошелёк" и "кошелёк города" - это не одно и то же! Не забывайте пополнять банковский счёт поселения, ведь все операции связанные с городом будут оплачиваться именно со счёта города. Для операций с кошельком города помогут команды:

/town или /t - информация о вашем городе. Здесь же отображается кол-во денег банка города.
/town deposit [количество] - положить деньги на счет города.
/town withdraw [количество] - снять деньги со счета города.

Когда вы создадите свой город у него будет размер всего в один чанк. Для расширения своего города советуем включить видимость сетки чанков (территории 16 на 16 блоков) при помощи сочетания клавиш F3+G на клавиатуре. Для отключения используйте то же сочетание.

/town claim - купить дополнительный чанк к городу. 
Стоимость покупки: Ⓡ 10.000 RCoin (списывается со счёта города).

Остальные команды содержащие /town
Данный раздел актуален для мэров городов, если вы не имеете своего города - можете пропустить раздел /town и /towny!

Когда вы пишите /town в начале - это значит, что команда будет влиять на настройку всего города сразу в отличие от команды /plot, которая отвечает за настройку одного лишь чанка, на котором вы стоите.

/town [город] - информация о другом городе.
/town online - список игроков из Вашего города, которые сейчас на сервере.
/town add [ник] - добавить нового жителя в город.
/town kick - убрать жителя из города.
/town rank add [ник] assistant - назначить игрока заместителем города.
/town rank remove [ник] assistant - разжаловать игрока с заместителя города.
/town delete - удалить город.

/t set board [сообщение] – написать сообщение от города, которое будет отображаться в чате его жителям.
/t set mayor [ник] – передать права мэра другому игроку.
/t set homeblock – перенести главный чанк города, туда где вы стоите.
/t set name [название] – изменить название города.
Настройка чанков города (Приват Города) :

/t toggle explosion on/off - включить/отключить TNT во всём городе.
/t toggle fire on/off - включить/отключить огонь и молнии во всём городе.
/t toggle pvp on/off - включить/отключить возможность убивать игроков во всём городе.
/t toggle mobs on/off - включить/отключить враждебных мобов (в т.ч. нежить) во всём городе.
/t toggle open on/off - включить/отключить вступление в Ваш город по приглашению. 
 
/t set perm on / off - вкл./выкл. всевозможные действия для всех игроков.
/t set perm [роль] on/off - вкл./выкл. полный доступ в городе для определенного вида игроков.
/t set perm [действие] on/off - вкл./выкл. доступ к определенным действиям в городе для всех.

/t set perm [роль] [действие] on/off - детальная настройка доступа в городе.
/t set perm reset - вернуть стандартные настройки.

Роли: 
- friend (друг) - люди находящиеся в вашем френдлисте. 
- ally (союзник) - игроки проживающие с вами в одном городе или нации.
- outsider (отшельник) - житель другого города или отшельник.

Действия (доступы): 
- build - строить/ставить блоки, 
- destroy - ломать блоки, 
- switch - переключать рычаги, кнопки и т.д. 
- itemuse - взаимодействие с предметами (сундуками, печками, зельеварками и т.д.)
Установка налогов:

/town set taxes [количество] - установить налог, который будет ежедневно собираться с жителей в банк города.
 
/town set plottax [количество] - установить налог, который будет ежедневно собираться с жителей, имеющих собственные жилые участки.

/town set shoptax [количество] - установить налог, который будет ежедневно собираться с жителей, имеющих магазин.
 
/town set embassytax [количество] - установить налог, который будет ежедневно собираться с жителей, имеющих посольство.
Общие команды или команды с /towny
/towny map – разово показывает карту чанков.

/towny prices – показывает цены плагина установленные на сервере, а также налоги города и нации в которых вы проживаете.

/towny time – показывает, сколько осталось времени по плагину, до наступления следующего дня и сбора налогов.

/towny universe – показывает данные о плагине тауни (версию плагина; создателей; количество жителей, городов, наций, миров, чанков на сервере).

/towny war – показывает данные о войнах на сервере между нациями.
/towny top land [all/resident/town] -топ городов\граждан по кол-ву захваченной территории.
/towny top residents [all/town/nation] - топ по количеству жителей.
Права горожан или команды, начинающиеся с /resident
Команду /resident вы можете прописывать полностью, а можете и использовать сокращённое /res. Учтите, большинство данных команд могут использовать только игроки с пропиской в городе (вы являетесь жителем города)!

Доступно для всех игроков сервера:

/res friend add [ник] - добавить игрока в друзья.
/res friend remove [ник] - удалить игрока из друзей.
/res friend list - список ваших друзей.
/resident toggle map - включает/выключает карту города в чате.
Так выглядит символьная карта мира в чате. Обратите внимание на колонку справа, каждому символу дано объяснение. Стоит понимать, что один символ = 1 чанку (территория 16 на 16 блоков). Карта будет обновляться каждый раз, когда вы наступаете на новый чанк. Ваше положение будет подсвечиваться оранжевым цветом. На картинке мы сейчас находимся на букве H, что означает центр города (Home).
Так выглядит символьная карта мира в чате. Обратите внимание на колонку справа, каждому символу дано объяснение. Стоит понимать, что один символ = 1 чанку (территория 16 на 16 блоков). Карта будет обновляться каждый раз, когда вы наступаете на новый чанк. Ваше положение будет подсвечиваться оранжевым цветом. На картинке мы сейчас находимся на букве H, что означает центр города (Home).
А вот эта команда уже актуальна для жителей какого-либо города:
 
/resident set perm [роль] [действие] on/off - указанная роль сможет или не сможет строить/разрушать/изменять/использовать_предметы на личных участках.

Эта команда очень удобна тем, что позволяет настроить доступ сразу ко всем чанкам во владении, не настраивая каждый чанк отдельно. 

(Для справки: каждый игрок вправе обладать 4 чанками одновременно. Участки в столице (Recre-Town) поделены таким образом, что каждый состоит из 4 чанков) и представляет из себя квадрат 2 на 2.

Роли: 
- friend (друг) - люди находящиеся в вашем френдлисте. 
- ally (союзник) - игроки проживающие с вами в одном городе или нации.
- outsider (отшельник) - житель другого города или отшельник.

Действия (доступы): 
- build - строить/ставить блоки, 
- destroy - ломать блоки, 
- switch - переключать рычаги, кнопки и т.д. 
- itemuse - взаимодействие с предметами (сундуками, печками, зельеварками и т.д.)
Управление участками или команды с /plot
/plot - информация о команде.
/plot claim - купить чанк в городе. (Максимум может быть 4, то есть 1 участок = 4 чанкам).
/plot perm - показать настройки чанка, в котором вы стоите.

/plot forsale - выставить чанк на продажу.
/plot forsale [цена] - установить цену чанка.
/plot notforsale - снять чанк с продажи.

/plot set embassy - изменить чанк на посольство.
/plot set arena - изменить чанк на арену PvP.
/plot set wilds - изменить чанк на зону охоты.
/plot set jail – изменить чанк на зону тюрьмы.
/plot set name [название] - изменить чанк участка (Только латинский алфавит)

/plot set reset - сбросить на обычный чанк.
Доступ на участок:

Далее идёт ряд команд, который позволяет детально настроить каждый ваш чанк отдельно. 
(Не забывайте, что у вас их 4 и на каждом команду придётся вводить заново).

/plot set perm on/off  - включить/отключить изменения настроек на чанке.
/plot set perm [роль] on/off  - разрешить/запретить некой категории делать что-либо на чанке.
/plot set perm [действие] on/off  - разрешить/запретить всем что-либо делать на чанке.
/plot set perm [роль] [действие] on/off  - разрешить/запретить действие на чанке для роли.

/plot set perm perm reset  - вернуть стандартные настройки на чанке.

/plot toggle pvp [on/off] - выключить/включить PvP на чанке.
/plot toggle explosion  [on/off] - включить / отключить взрывы на чанке.
/plot toggle fire  [on/off] - включить / отключить огонь на чанке.
/plot toggle mobs  [on/off] - включить / отключить враждебных мобов на чанке.

Роли: 
- friend (друг) - люди находящиеся в вашем френдлисте. 
- ally (союзник) - игроки проживающие с вами в одном городе или нации.
- outsider (отшельник) - житель другого города или отшельник.

Действия (доступы): 
- build - строить/ставить блоки.
- destroy - ломать блоки.
- switch - переключать рычаги, кнопки и т.д. 
- itemuse - взаимодействие с предметами (сундуками, печками, зельеварками и т.д.)
Рассмотрим на примере правильную последовательность приобретения участка в городе и его приват:

Вы заселяетесь в город. Например, в столицу «Recre-Town». Для этого используйте команду /t join Recre-Town.
Далее при помощи команды /resident toggle map вы можете включить (или выключить) карту города для поиска свободных участков для покупки. В столице присутствует удобная разметка участков (границы обозначены красной или синей шерстью). Имейте ввиду, что 1 участок = 4 чанкам!
Когда вы найдёте подходящий участок, приобретите его при помощи команды /plot claim (команду вводим на каждом из 4 чанков). Чтобы включить показ сетки чанков, вы можете зажать сочетание клавиш F3+G на клавиатуре, либо же просто пропишите команду покупки в 4 разных углах своего участка. Цена одного чанка в столице Ⓡ 10 RCoin, это значит, что участок обойдётся вам в 40 монет.
Далее идёт приват участка. Введите команду /resident set perm off - это отключит доступ других игроков к вашим чанкам. Они не смогут ничего ломать/строить/переключать или пользоваться какими-либо предметами ( в том числе сундуками, печками и т.д.)
Вы можете перестраховаться задав настройку каждому чанку вручную. Для этого используйте команду /plot set perm off - данная команда также отключает любой доступ другим игрокам к вашему чанку. Чтобы проверить доступность чанка, вы можете ввести команду /plot perm. Если вы всё сделали правильно, то в строке у каждого из доступов вы будете видеть прочерки:
Доступность вашего участка. Если в строке везде прочерки, значит ни один игрок кроме вас (а также мэра и ассистентов города) не сможет ничего делать на данном чанке. Столица «Recre-Town» является админским городом и гарантирует вашу неприкосновенность и сохранность лута(если вы правильно зададите настройки доступа), но если вы решите переехать, то с осторожностью заселяйтесь в другие города игроков!
Доступность вашего участка. Если в строке везде прочерки, значит ни один игрок кроме вас (а также мэра и ассистентов города) не сможет ничего делать на данном чанке. Столица «Recre-Town» является админским городом и гарантирует вашу неприкосновенность и сохранность лута(если вы правильно зададите настройки доступа), но если вы решите переехать, то с осторожностью заселяйтесь в другие города игроков!
Если вы хотите дать доступ к участку какой-либо категории игроков, например, друзьям, то введите на каждом из чанков /plot set perm friend on. Эта команда откроет все виды доступа на ваших чанках для друзей.
Если вы всё правильно сделали, то в строке с прочерками появится буква «f» - что означает friends (друзья). 
Если вы всё правильно сделали, то в строке с прочерками появится буква «f» - что означает friends (друзья).
Не забывайте, что и дальше вы можете детально настраивать доступ к участку через команду /plot set perm [роль] [действие] on/off.
Роли: 
- friend (друг) - люди находящиеся в вашем френдлисте. 
- ally (союзник) - игроки проживающие с вами в одном городе или нации.
- outsider (отшельник) - житель другого города или отшельник.

Действия (доступы): 
- build - строить/ставить блоки, 
- destroy - ломать блоки, 
- switch - переключать рычаги, кнопки и т.д. 
- itemuse - взаимодействие с предметами (сундуками, печками, зельеварками и т.д.)

Если вместо роли или действия ничего не указывать, то это значит выбрать всё перечисленное сразу.
Ну и напоследок не забывайте, что помимо привата участка, вы также можете настраивать его другие параметры:
/plot toggle pvp [on/off] - выключить/включить PvP на чанке.
/plot toggle explosion  [on/off] - включить / отключить взрывы на чанке.
/plot toggle fire  [on/off] - включить / отключить огонь на чанке.
/plot toggle mobs  [on/off] - включить / отключить враждебных мобов на чанке.
Команды для нации /nation
Нация - это союз или объединение нескольких городов. Тут особо останавливаться не видим смысла, просто ознакомьтесь с перечнем доступных команд:

/n - информация о Вашей нации.
/n ? - список команд.
/n king - список команд для короля.
/n new [название] - создать нацию.
/n list - список наций.
/n leave - покинуть нацию (если вы мэр города).
/n [название] - информация о конкретной нации.
/n online [название] - показать игроков из нации, которые находятся на сервере.
/n withdraw [сумма] - вывод валюты из банка нации.
/n deposit [сумма] -  вклад денег в банк нации.
/n rank add/remove [ник] - назначить игрока на должность или снять с должности.
/n add [название] - пригласить город в нацию.
/n kick [название] - изгнать город из нации.
/n delete - удалить нацию.
/n ally add [название] - добавить нацию в альянс (пометить союзников).
/n ally remove [название] - убрать нацию из альянса.
/n allylist - список союзников.
/n enemy add [название] - добавить нацию в список врагов.
/n enemy remove [название] - убрать нацию из списка врагов.
/n enemylist - список врагов.
/n townlist - список городов.
/n set king [ник] - назначить игрока новым королем нации.
/n set capital [город] - назначить столицу нации.
/n set name [название] - изменить название нации.
/n set taxes [сумма] - установить размер налога для городов состоящих в нации.
Доступные чаты
[GL] Глобальный — сообщения из этого канала видят все на сервере.

/g,gl - изменить чат на глобальный.
/g,gl [сообщение] - написать сообщения в глобальный чат без смены режима чата.
[LC] Локальный — сообщения из этого канала видят все в радиусе 100 блоков.

/l,lc - изменить чат на локальный.
/l,lc [сообщение] - написать сообщения в локальный чат без смены режима чата.
[TC] Городской — сообщения из этого канала видят все кто в вашем городе.

/tc - изменить чат на городской.
/tc <сообщение> - написать сообщения в городской чат без смены режима чата.
[NC] Национальный — сообщения из этого канала видят все кто в вашей нации.

/nc - изменить чат на национальный.
/nc <сообщение> - написать сообщения в национальный чат без смены режима чата.

Чтобы получить максимально подробную информацию по плагину и его тонкостям, рекомендуем перейти на англоязычную Wiki по плагину: https://github.com/TownyAdvanced/Towny/wiki/Towny-Commands#town